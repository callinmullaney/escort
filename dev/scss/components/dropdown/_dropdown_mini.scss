/**
 * Mini region
 */
@include get-location($type: horizontal, $region: mini) {

  .escort-container:not(.escort-wrap).escort-active {

    .escort-aside-trigger {

      .escort-inner {
        // background: smart-scale($bg-color-mini, $scale: -12%) !important;
        box-shadow: inset 0 10px 10px rgba(adjust-color($bg-color-mini, $saturation: 0%, $lightness: -8%), 0.25) !important;
      }
    }

    .escort-aside-display-dropdown {
      top: $base-size * 0.75;
    }
  }

  .escort-aside-display-dropdown {
    top: 85%;
    box-shadow: 0 9px 12px transparentize($black, 0.8);
    background: darken($bg-color-mini, 4%);
    border-bottom-left-radius: $border-radius;
    border-bottom-right-radius: $border-radius;

    @include css-triangle($base-size / 3, darken($bg-color-mini, 4%), up, before) {
      content: '';
      position: absolute;
      top: ($base-size / 3.25) * -1;
      left: 0;
      z-index: 1;
    }

    .escort-aside-display-dropdown {
      background: lighten($bg-color-mini, 4%);

      @include css-triangle($base-size / 2, lighten($bg-color-mini, 4%), left, before) {
        content: '';
        position: absolute;
        top: 0;
        left: ($base-size / 3) * -1;
        z-index: 1;
      }

      .escort-aside-display-dropdown {
        @include css-triangle($base-size / 2, lighten($bg-color-mini, 10%), left, before);
        background: lighten($bg-color-mini, 10%);

        .escort-aside-display-dropdown {
          @include css-triangle($base-size / 2, lighten($bg-color-mini, 15%), left, before);
          background: lighten($bg-color-mini, 15%);
        }
      }
    }
  }

  .escort-mini-right {

    .escort-aside-display-dropdown {
      .escort-aside-display-dropdown {

        &::before {
          right: ($base-size / 3) * -1 !important;
        }

        @include css-triangle($base-size / 2, lighten($bg-color-mini, 4%), right, before) {
          border-top-width: $base-size / 2;
          border-bottom-width: 0;
        }

        .escort-aside-display-dropdown {
          
          @include css-triangle($base-size / 2, lighten($bg-color-mini, 10%), right, before) {
            border-top-width: $base-size / 2;
            border-bottom-width: 0;
          }

          .escort-aside-display-dropdown {
          
            @include css-triangle($base-size / 2, lighten($bg-color-mini, 15%), right, before) {
              border-top-width: $base-size / 2;
              border-bottom-width: 0;
            }
          }
        }
      }
    }
  }
}
